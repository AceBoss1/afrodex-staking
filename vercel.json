{
  "version": 2,
  "framework": "nextjs",

  "buildCommand": "npm run build",
  "installCommand": "npm install --omit=optional",
  "outputDirectory": ".next",

  "env": {
    "NEXT_TELEMETRY_DISABLED": "1",
    "NODE_ENV": "production"
  },

  "routes": [
    { "handle": "filesystem" },

    {
      "src": "/api/(.*)",
      "dest": "/api/$1",
      "methods": ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
    },

    {
      "src": "/staking",
      "dest": "/staking/index.html"
    },
    {
      "src": "/ambassador",
      "dest": "/ambassador/index.html"
    },
    {
      "src": "/community",
      "dest": "/community/index.html"
    },

    { "src": "/(.*)", "dest": "/" }
  ],

  "functions": {
    "api/**/*.js": {
      "runtime": "nodejs18.x",
      "maxDuration": 30,
      "memory": 3008
    }
  },

  "overrides": {
    "next.config.js": {
      "path": "next.config.js"
    }
  }
}
